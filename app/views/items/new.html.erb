<div class="new-item-page">
<h1 class="new-item-title">新增項目 New Item</h1>

<% if @item.errors.any? %>
  <ul>
  <% @itme.errors.full_messages.each do |message| %>
  <li><p class="text-red-600 mx-2">。<%= message %></p></li>
  <% end %>
  </ul>
<% end %>
  <div class="item-wrap">
    <div class="item-object-group">
      <%= form_with(model: @item, url: group_items_path, local: true) do |f| %>
        <div class="item-title item-body">
          <%= f.label :name, "名稱", class: "item-label" %>
          <%= f.text_field :name, class: 'border-2  new-item-input border-radius', autocomplete:"off" %>
        </div>
        <div class="item-description item-body">
          <%= f.label :description, "敘述", class: "item-label" %>
          <%= f.text_area :description, class: 'border-2 border-radius new-item-input' %>
        </div>
        <div class="assign item-body">
          <%= f.label :person, "專責", class: "item-label" %>
          <div class="tag-meber">
            <% @workspace_users.each do |member| %>
              <div class="tag-person item-body">
                <div class="check-box-tag">
                  <%= check_box_tag("person[#{member.id}]", member.id) %>
                </div>
                <div class="check-assign-person">
                  <%= label_tag("person[#{member.id}]", member.email) %>
                </div>
              </div>
            <% end %>
            <div class="item-body">
              <div class="check-box-tag">
                <%= check_box_tag("person[#{@workspace_creator.id}]", @workspace_creator.id) %>
              </div>
              <div class="check_assign_person">
                <%= label_tag("person[#{@workspace_creator.id}]", @workspace_creator.email) %>
              </div>
           </div>
          </div>
         
        </div>
        
        <div class="assign-date assign-label item-body">
            <%= f.label :due_date, "期限" , class: "item-label" %>
            <%= f.date_field :due_date, class: 'border-2 assign-init border-radius' %>
        </div>
        <div class="assign-status assign-label item-body">
          <%= f.label :status, "狀態", class: "item-label" %>
          <%= f.select :status, %w(待指派 進行中 卡關中 待修改 已完成), class: "assign-init border-radius" %>
        </div>
    
        <div class="item-btn">
          <%= f.submit '新增', class: 'new-item-submit mt-4 ml-2 px-3 py-1 bg-green-400 text-white block w-32 rounded text-center' %> 
        </div>   
      <% end %>
    </div>
    <div class="advertising">
      <h2>Pmaster 最信賴的夥伴</h2>
      <div class="img">
        <%= image_tag 'home/pmaster_home.png' %>
      </div>
    </div>
  </div>
  <div class="footer-edit">
    <p>
      <strong>PMaster</strong> by <a href="https://github.com/https-github-com-tingtinghsu">Ace Team</a>. All rights reserved.
    </p>
  </div>
</div>
